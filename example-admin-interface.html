<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery Admin - Makayla Moon</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #2d1b3d 0%, #1a0f26 100%);
            color: #f4e5d4;
            min-height: 100vh;
            padding: 20px;
        }
        
        .admin-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .admin-header {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .admin-header h1 {
            color: #d4af37;
            margin-bottom: 10px;
        }
        
        .login-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 40px;
            border-radius: 10px;
            max-width: 400px;
            margin: 100px auto;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .login-section input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: 5px;
            color: #f4e5d4;
            font-size: 16px;
        }
        
        .login-section button {
            width: 100%;
            padding: 12px;
            background: #d4af37;
            color: #2d1b3d;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }
        
        .admin-content {
            display: none;
        }
        
        .admin-content.active {
            display: block;
        }
        
        .upload-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .upload-area {
            border: 2px dashed rgba(212, 175, 55, 0.5);
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .upload-area:hover {
            border-color: #d4af37;
            background: rgba(212, 175, 55, 0.1);
        }
        
        .upload-area.dragover {
            border-color: #d4af37;
            background: rgba(212, 175, 55, 0.2);
        }
        
        .gallery-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .gallery-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid rgba(212, 175, 55, 0.3);
            position: relative;
        }
        
        .gallery-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .gallery-item-controls {
            padding: 15px;
        }
        
        .gallery-item-controls input,
        .gallery-item-controls select {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: 5px;
            color: #f4e5d4;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            margin: 5px 5px 5px 0;
        }
        
        .btn-primary {
            background: #d4af37;
            color: #2d1b3d;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .save-section {
            position: fixed;
            bottom: 20px;
            right: 20px;
        }
        
        .save-btn {
            padding: 15px 30px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }
        
        .status-message {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            display: none;
        }
        
        .status-message.success {
            background: rgba(40, 167, 69, 0.3);
            border: 1px solid #28a745;
            display: block;
        }
        
        .status-message.error {
            background: rgba(220, 53, 69, 0.3);
            border: 1px solid #dc3545;
            display: block;
        }
    </style>
</head>
<body>
    <!-- Login Section -->
    <div id="login-section" class="login-section">
        <h2>Admin Login</h2>
        <input type="password" id="admin-password" placeholder="Enter admin password">
        <button onclick="checkLogin()">Login</button>
        <div id="login-error" style="color: #dc3545; margin-top: 10px; display: none;">Incorrect password</div>
    </div>
    
    <!-- Admin Content -->
    <div id="admin-content" class="admin-content">
        <div class="admin-container">
            <div class="admin-header">
                <h1>ðŸŽ¨ Gallery Management</h1>
                <p>Manage your gallery images, order, and metadata</p>
            </div>
            
            <div class="upload-section">
                <h2>Upload New Image</h2>
                <div class="upload-area" id="upload-area">
                    <p>ðŸ“¤ Drag & drop images here or click to browse</p>
                    <input type="file" id="file-input" multiple accept="image/*" style="display: none;">
                </div>
                <div id="upload-status" class="status-message"></div>
            </div>
            
            <div class="gallery-list" id="gallery-list">
                <!-- Gallery items will be dynamically loaded here -->
            </div>
            
            <div class="save-section">
                <button class="save-btn" onclick="saveGallery()">ðŸ’¾ Save Changes</button>
            </div>
        </div>
    </div>
    
    <script>
        // Simple password protection (in production, use proper authentication)
        const ADMIN_PASSWORD = 'admin123'; // Change this!
        
        function checkLogin() {
            const password = document.getElementById('admin-password').value;
            if (password === ADMIN_PASSWORD) {
                localStorage.setItem('adminLoggedIn', 'true');
                document.getElementById('login-section').style.display = 'none';
                document.getElementById('admin-content').classList.add('active');
                loadGallery();
            } else {
                document.getElementById('login-error').style.display = 'block';
            }
        }
        
        // Check if already logged in
        if (localStorage.getItem('adminLoggedIn') === 'true') {
            document.getElementById('login-section').style.display = 'none';
            document.getElementById('admin-content').classList.add('active');
            loadGallery();
        }
        
        // File upload handling
        const uploadArea = document.getElementById('upload-area');
        const fileInput = document.getElementById('file-input');
        
        uploadArea.addEventListener('click', () => fileInput.click());
        
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            handleFiles(e.dataTransfer.files);
        });
        
        fileInput.addEventListener('change', (e) => {
            handleFiles(e.target.files);
        });
        
        function handleFiles(files) {
            // In a real implementation, you would:
            // 1. Upload files to a server/cloud storage
            // 2. Get back the URLs
            // 3. Add them to the gallery JSON
            
            // For demo purposes, we'll just show a message
            const status = document.getElementById('upload-status');
            status.textContent = `Selected ${files.length} file(s). In production, these would be uploaded.`;
            status.className = 'status-message success';
        }
        
        // Load gallery from JSON
        async function loadGallery() {
            try {
                const response = await fetch('gallery-data.json');
                const data = await response.json();
                displayGallery(data.gallery);
            } catch (error) {
                console.error('Error loading gallery:', error);
                // Fallback: show message that JSON needs to be created
                document.getElementById('gallery-list').innerHTML = 
                    '<p>Gallery data not found. Please create gallery-data.json file.</p>';
            }
        }
        
        function displayGallery(gallery) {
            const container = document.getElementById('gallery-list');
            container.innerHTML = gallery.map(item => `
                <div class="gallery-item" data-id="${item.id}">
                    <img src="${item.image}" alt="${item.alt}">
                    <div class="gallery-item-controls">
                        <input type="text" value="${item.alt}" placeholder="Alt text" onchange="updateItem(${item.id}, 'alt', this.value)">
                        <select onchange="updateItem(${item.id}, 'icon', this.value)">
                            <option value="ðŸ”¥" ${item.icon === 'ðŸ”¥' ? 'selected' : ''}>ðŸ”¥</option>
                            <option value="ðŸ’‹" ${item.icon === 'ðŸ’‹' ? 'selected' : ''}>ðŸ’‹</option>
                            <option value="ðŸ’„" ${item.icon === 'ðŸ’„' ? 'selected' : ''}>ðŸ’„</option>
                            <option value="âš¡" ${item.icon === 'âš¡' ? 'selected' : ''}>âš¡</option>
                            <option value="ðŸ’Ž" ${item.icon === 'ðŸ’Ž' ? 'selected' : ''}>ðŸ’Ž</option>
                        </select>
                        <input type="number" value="${item.order}" placeholder="Order" onchange="updateItem(${item.id}, 'order', parseInt(this.value))">
                        <button class="btn btn-danger" onclick="deleteItem(${item.id})">Delete</button>
                    </div>
                </div>
            `).join('');
        }
        
        let galleryData = { gallery: [] };
        
        function updateItem(id, field, value) {
            const item = galleryData.gallery.find(i => i.id === id);
            if (item) {
                item[field] = value;
            }
        }
        
        function deleteItem(id) {
            if (confirm('Are you sure you want to delete this image?')) {
                galleryData.gallery = galleryData.gallery.filter(i => i.id !== id);
                loadGallery();
            }
        }
        
        async function saveGallery() {
            // In a real implementation, you would:
            // 1. Send the updated JSON to a server endpoint
            // 2. Server saves the file
            // 3. Optionally trigger a rebuild/deployment
            
            alert('In production, this would save the gallery-data.json file. For now, you would need to manually update the file or use a backend service.');
            
            // Example: Download JSON file
            const dataStr = JSON.stringify(galleryData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'gallery-data.json';
            link.click();
        }
        
        // Initialize
        loadGallery();
    </script>
</body>
</html>

